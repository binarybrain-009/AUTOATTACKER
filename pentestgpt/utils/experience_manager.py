from typing import List
from pentestgpt.utils.vectorDB import customVectorDB

class ExperienceManager:
    def __init__(self, project_name: str, vectordb_name: str):
        self.vector_db = customVectorDB(project_name, vectordb_name)

    def store_experience(self, action_plan: str, metadata: List[dict] = None):
        self.vector_db.store_text(action_plan, metadata)

    def retrieve_experiences(self, query: str, top_k: int = 3) -> List[dict]:
        results = self.vector_db.retrieval(query)
        return results[:top_k]
